// -*- javascript -*-

// --------------------------------------------------------------------------------
// insertarPersona
// --------------------------------------------------------------------------------

// --------------------------------------------------------------------------------
// --------------------------------------------------------------------------------
module.exports = {

	conexion: null, 

	// ----------------------------------------------------------------------------
	// datos:{dni:Texto, nombre:Texto: apellidos:Texto}
	//     --> 
	//         insertarPersona() -->
	// ----------------------------------------------------------------------------
	f: async function ( datos ) {

		var textoSQL =
			'insert into Persona values( $dni, $nombre, $apellidos );'
		var valoresParaSQL = { $dni: datos.dni, $nombre: datos.nombre,
							   $apellidos: datos.apellidos }
		
		return new Promise( (resolver, rechazar) => {
			this.conexion.run( textoSQL, valoresParaSQL, function( err ) {
				( err ? rechazar(err) : resolver() )
			})
		})
		
	} // ()

} // module.exports

// --------------------------------------------------------------------------------
// --------------------------------------------------------------------------------
// --------------------------------------------------------------------------------
// --------------------------------------------------------------------------------
// --------------------------------------------------------------------------------
